# Numbers API

The Numbers API allows you to manage phone numbers for your telephony operations.

<Note>
**Prerequisites:** Make sure you have your API Token. See [Authentication](/api/get-started/authentication) for details.
</Note>

---

## Get Telephony Numbers

Retrieve a list of all telephony numbers in the system along with their details and current status.

```http
GET /api/v2/platform/telephony/numbers/
```

### Headers

| Name          | Type   | Required | Description                     |
|---------------|--------|----------|---------------------------------|
| Authorization | string | Yes      | API Key format: `Token <token>` |
| Org-Handle    | string | Yes      | Organization domain handle      |


<Note>
You can get the `Org-Handle` by hitting the [Get All Organizations](/api/space/organizations#get-all-organizations) API. The `domain_handle` field in the response is your Org-Handle.
</Note>

### Example Request

```http
GET /api/v2/platform/telephony/numbers/
Headers:
  Authorization: Token your-api-token
  Org-Handle: your-org-handle
```

### Success Response (200)

```json
{
  "status_code": 200,
  "message": "Telephony numbers fetched successfully.",
  "data": [
    {
      "id": 183,
      "number": "+1234567890",
      "active": true
    }
  ]
}
```

### Response Fields

| Field       | Type    | Description             |
|-------------|---------|-------------------------|
| status_code | integer | HTTP status code        |
| message     | string  | Response message        |
| data        | array   | Array of number objects |

### Number Object Fields

| Field  | Type    | Description                  |
|--------|---------|------------------------------|
| id     | integer | Number unique identifier     |
| number | string  | Phone number in E.164 format |
| active | boolean | Whether the number is active |

### Error Response (400 — Bad Request)

```json
{
  "status_code": 400,
  "message": "Organization handle is required in Org-Handle header."
}
```

### Error Response (401 — Unauthorized)

```json
{
  "status_code": 401,
  "message": "Authentication credentials were not provided."
}
```

---

## Common Error Codes

| Status Code | Description                                      |
|-------------|--------------------------------------------------|
| 200         | Success - Request completed successfully         |
| 400         | Bad Request - Org-Handle header missing          |
| 401         | Unauthorized - Invalid or missing API token      |
| 403         | Forbidden - Access denied to the resource        |
| 500         | Internal Server Error - Server-side error        |

## Code Examples

<CodeGroup>

```javascript Node.js
const axios = require('axios');

const headers = {
  'Authorization': 'Token your-api-token',
  'Org-Handle': 'your-org-handle'
};

// Get all telephony numbers
const getNumbers = async () => {
  const response = await axios.get(
    'https://unpod.dev/api/v2/platform/telephony/numbers/',
    { headers }
  );
  console.log(`Total numbers: ${response.data.data.length}`);
  response.data.data.forEach(num => {
    console.log(`${num.number} - Active: ${num.active}`);
  });
  return response.data.data;
};

// Example usage
getnumbers();
```

```python Python
import requests

headers = {
    'Authorization': 'Token your-api-token',
    'Org-Handle': 'your-org-handle'
}

BASE_URL = 'https://unpod.dev/api/v2/platform/telephony/numbers'

def get_numbers():
    """Get all telephony numbers"""
    response = requests.get(f'{BASE_URL}/', headers=headers)
    data = response.json()

    print(f"Total numbers: {len(data['data'])}")
    for num in data['data']:
        print(f"{num['number']} - Active: {num['active']}")

    return data['data']

# Example usage
get_numbers()
```

```bash cURL
# Get all telephony numbers
curl -X GET "https://unpod.dev/api/v2/platform/telephony/numbers/" \
  -H "Authorization: Token your-api-token" \
  -H "Org-Handle: your-org-handle"
```

</CodeGroup>

## Best Practices

1. **E.164 Format**: Phone numbers are returned in E.164 format (e.g., `+1234567890`)
2. **Org-Handle Required**: Always include the Org-Handle header in your requests
3. **Error Handling**: Always handle potential errors and implement retry logic
4. **Security**: Keep API tokens secure and rotate them regularly
