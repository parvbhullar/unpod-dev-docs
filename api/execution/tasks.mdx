---
title: 'Tasks'
description: 'Manage and retrieve tasks in your platform'
---

# Tasks API

The Tasks API allows you to manage and retrieve tasks in your Unpod platform. Tasks represent individual execution units within a run or space.

<Note>
**Prerequisites:** Make sure you have your API Token. See [Authentication](/api/get-started/authentication) for details.
</Note>

---

## Create a Task in a Space

Create a new task inside a given space using the space's public token. You can assign the task to a pilot/agent, attach multiple documents, provide additional context, and optionally schedule the execution.

```http
POST /api/v2/platform/spaces/{space_token}/tasks/
```

### Path Parameters

| Name        | Type   | Required | Description                                    |
|-------------|--------|----------|------------------------------------------------|
| space_token | string | Yes      | Public token of the space where task is created |

<Note>
You can get the `space_token` by hitting the [Get All Spaces](/api/space/spaces#get-all-spaces) API. The `token` field in the response is your Space Token.
</Note>

### Headers

| Name          | Type   | Required | Description                     |
|---------------|--------|----------|---------------------------------|
| Authorization | string | Yes      | API Key format: `Token <token>` |
| Content-Type  | string | Yes      | `application/json`              |

### Request Body

| Field     | Type   | Required | Description                                |
|-----------|--------|----------|--------------------------------------------|
| pilot     | string | Yes      | Agent/pilot handle to assign the task      |
| documents | array  | Yes      | Array of document objects with task data   |
| context   | string | No       | Additional context for the task            |
| schedule  | object | No       | Schedule configuration (type: "now")       |

### Example Request

```http
POST /api/v2/platform/spaces/your-space-token/tasks/
Headers:
  Authorization: Token your-api-token
  Content-Type: application/json

Body:
{
  "pilot": "space-agent-f1o3qjm1y7q1avvuynv4vprb1",
  "documents": [
    {
      "name": "John Doe",
      "time": null,
      "email": "john@example.com",
      "contact_number": "1234567890",
      "alternate_number": "9876543210",
      "occupation": "Developer",
      "company_name": "TechCorp",
      "address": "123/456 Main Street",
      "about": "Software Developer",
      "context": "Follow up call",
      "multi_select": "multi",
      "created": "2025-10-30T05:44:56",
      "labels": ["Interested"],
      "title": "Document Title",
      "description": "Description text",
      "document_id": "6902fb5840a736e125e80ebc"
    }
  ],
  "context": "Call the lead and discuss the project requirements.",
  "schedule": {
    "type": "now"
  }
}
```

### Document Object Fields

| Field            | Type   | Required | Description                       |
|------------------|--------|----------|-----------------------------------|
| name             | string | Yes      | Contact name                      |
| email            | string | No       | Contact email                     |
| contact_number   | string | Yes      | Primary contact number            |
| alternate_number | string | No       | Alternate contact number          |
| occupation       | string | No       | Contact's occupation              |
| company_name     | string | No       | Contact's company                 |
| address          | string | No       | Contact's address                 |
| about            | string | No       | About the contact                 |
| context          | string | No       | Additional context for the call   |
| labels           | array  | No       | Labels/tags for the document      |
| title            | string | No       | Document title                    |
| description      | string | No       | Document description              |
| document_id      | string | No       | Unique document identifier        |

### Success Response (200)

```json
{
    "status_code": 200,
    "message": "Task Created Successfully",
    "data": {
        "run_id": "R74802366fe9011f0878d43cd8a99e069",
        "task_ids": [
            "T74802367fe9011f0878d43cd8a99e069"
        ],
        "status": "pending"
    }
}
```

### Response Fields

| Field       | Type    | Description          |
|-------------|---------|----------------------|
| status_code | integer | HTTP status code     |
| message     | string  | Response message     |
| data        | object  | Created task details |

### Data Object Fields

| Field    | Type   | Description                       |
|----------|--------|-----------------------------------|
| run_id   | string | Created run identifier            |
| task_ids | array  | Array of created task identifiers |
| status   | string | Task status (initially `pending`) |

### Error Response (206 — Validation / Creation Failed)

```json
{
  "message": "Task creation failed",
  "errors": "Detailed error description"
}
```

---

## Get All Agents

Retrieve detailed information for all registered agents, helping you view and manage agent records within the system.

```http
GET /api/v2/platform/agents/
```

### Headers

| Name          | Type   | Required | Description                     |
|---------------|--------|----------|---------------------------------|
| Authorization | string | Yes      | API Key format: `Token <token>` |
| Org-Handle    | string | Yes      | Organization domain handle      |

<Note>
You can get the `Org-Handle` by hitting the [Get All Organizations](/api/space/organizations#get-all-organizations) API. The `domain_handle` field in the response is your Org-Handle.
</Note>

### Example Request

```http
GET /api/v2/platform/agents/
Headers:
  Authorization: Token your-api-token
  Org-Handle: your-org-handle
```

### Success Response (200)

```json
{
  "count": 94,
  "status_code": 200,
  "message": "Agents fetched successfully",
  "data": [
    {
      "handle": "space-agent-8qmk42nslp91wrh3dz7btxc4",
      "name": "General Agentic",
      "type": "Voice",
      "state": "published",
      "purpose": ""
    }
  ]
}
```

### Response Fields

| Field       | Type    | Description            |
|-------------|---------|------------------------|
| count       | integer | Total number of agents |
| status_code | integer | HTTP status code       |
| message     | string  | Response message       |
| data        | array   | Array of agent objects |

### Agent Object Fields

| Field       | Type   | Description                                    |
|-------------|--------|------------------------------------------------|
| handle      | string | Unique agent handle/identifier                 |
| name        | string | Agent display name                             |
| type        | string | Agent type: `Voice`, `Chat`, etc.              |
| state       | string | Agent state: `published`, `draft`, `archived`  |
| purpose     | string | Agent purpose/use case                         |

### Error Response (401 — Unauthorized)

```json
{
  "status_code": 401,
  "message": "Authentication credentials were not provided."
}
```

---

## Get Tasks by Agent Handle

Fetch all tasks assigned to a specific agent/pilot using their handle. This returns full task metadata including user info, input payloads, attachments, and execution details.

```http
GET /api/v2/platform/agents/{handle}/tasks/
```



### Path Parameters

| Name   | Type   | Required | Description                           |
|--------|--------|----------|---------------------------------------|
| handle | string | Yes      | Unique handle/identifier of the agent |

<Note>
The `handle` is the agent handle. You can get it by hitting the [Get All Agents](#get-all-agents) API. The `handle` field in the response is your Agent Handle.
</Note>

### Headers

| Name          | Type   | Required | Description                     |
|---------------|--------|----------|---------------------------------|
| Authorization | string | Yes      | API Key format: `Token <token>` |
| Content-Type  | string | Yes      | `application/json`              |

### Example Request

```http
GET /api/v2/platform/agents/sales-agent-v1/tasks/
Headers:
  Authorization: Token your-api-token
  Content-Type: application/json
```

### Success Response (200)

```json
{
  "count": 1,
  "status_code": 200,
  "message": "Tasks Fetched Successfully",
  "data": [
    {
      "_id": "697debb84c27faa892bfa0cc",
      "thread_id": "675272289779974401",
      "user_info": {
        "email": "harshitaunpod.qa1+166@gmail.com",
        "full_name": "harshita166"
      },
      "task_id": "T8ff2ccdffe9a11f0878d43cd8a99e069",
      "run_id": "R8ff2ccdefe9a11f0878d43cd8a99e069",
      "task": {
        "objective": "Call it"
      },
      "input": {
        "name": "Bhaishab",
        "email": "john@example.com",
        "contact_number": "8109689090",
        "alternate_number": "",
        "occupation": "Developer",
        "company_name": "TechCorp",
        "address": "123/456 Main Street",
        "about": "Software Developer",
        "context": "Follow up call",
        "multi_select": "multi",
        "created": "2025-10-30T05:44:56",
        "labels": [
          "not Interested"
        ],
        "document_id": "6902fb5840a736e125e80c",
        "quality": "good"
      },
      "output": {
        "call_id": "675272289779974401",
        "call_end_reason": null,
        "start_time": "2026-01-31 11:47:38.067021",
        "end_time": "2026-01-31 11:48:11.385745",
        "assistant_number": "7890789090",
        "call_summary": null,
        "duration": 33,
        "recording_url": "https://cdr-storage-recs.s3.ap-south-1.amazonaws.com/media/p79974498.ogg",
        "transcript": [
          {
            "role": "user",
            "content": "Hello?",
            "timestamp": "2026-01-31 11:47:46.675013",
            "participant": "idt_+918109687225"
          },
          {
            "role": "assistant",
            "content": "Hi! This is [name] from [company]. Am I speaking with Bhaishab?\n",
            "timestamp": "2026-01-31 11:47:54.259815",
            "message_id": "2e8be35b-303"
          }
        ],
        "post_call_data": {
          "classification": {
            "labels": []
          },
          "summary": {
            "status": "Not Connected",
            "summary": "The call began with the assistant introducing themselves and confirming they were speaking with Bhaishab. However, there was no further discussion or engagement from the user, leading to an inconclusive interaction.",
            "callback_datetime": "N/A",
            "hours_from_now": "N/A"
          },
          "call_back": null,
          "follow_up": {
            "required": "follow_up disabled"
          },
          "profile_summary": {
            "tone": "Neutral",
            "engagement": "Low",
            "interest_level": "Maybe",
            "objections": [],
            "questions_asked": [],
            "pain_points": [],
            "outcome": "Connected",
            "next_action": "Continue the conversation",
            "callback_requested": false,
            "callback_time": null,
            "summary_text": "The user appears to be neutral and minimally engaged during the call. They acknowledged the assistant's greeting but did not express any specific interest or objections at this stage."
          },
          "structured_data": null
        },
        "metadata": {
          "cost": 0.0,
          "usage": {}
        },
        "call_type": "outbound",
        "call_status": "completed"
      },
      "attachments": [],
      "assignee": "jockey-india-apparel-assistant-kk19u",
      "status": "completed",
      "execution_type": "call",
      "ref_id": "6902fb5840a736e125e80c",
      "failure_count": 0,
      "last_failure_reason": null,
      "retry_attempt": 0,
      "last_status_change": "2026-01-31T11:47:31.198984",
      "scheduled_timestamp": null
    }
  ]
}
```

### Response Fields

| Field       | Type    | Description           |
|-------------|---------|-----------------------|
| count       | integer | Total number of tasks |
| status_code | integer | HTTP status code      |
| message     | string  | Response message      |
| data        | array   | Array of task objects |

### Task Object Fields

| Field                | Type    | Description                                   |
|----------------------|---------|-----------------------------------------------|
| _id                  | string  | Internal task document ID                     |
| thread_id            | string  | Thread identifier                             |
| user_info            | object  | User details (email, full_name)               |
| task_id              | string  | Unique task identifier                        |
| run_id               | string  | Parent run identifier                         |
| task                 | object  | Task definition with objective                |
| input                | object  | Input data for the task                       |
| output               | object  | Task output with call details                 |
| attachments          | array   | List of attachments                           |
| assignee             | string  | Agent handle assigned to the task             |
| status               | string  | Task status: `pending`, `completed`, `failed` |
| execution_type       | string  | Type of execution: `call`, `email`, etc.      |
| ref_id               | string  | Reference ID linking to input data            |
| failure_count        | integer | Number of failed attempts                     |
| last_failure_reason  | string  | Reason for last failure                       |
| retry_attempt        | integer | Current retry attempt number                  |
| last_status_change   | string  | Timestamp of last status change               |
| scheduled_timestamp  | string  | Scheduled execution timestamp                 |

### Error Response (206 — Tasks Fetch Failed)

```json
{
  "message": "Error fetching tasks",
  "errors": "Detailed error description"
}
```

### Error Response (404 — Agent Not Found)

```json
{
  "message": "Agent not found"
}
```

---

## Get Tasks by Space Token

Fetch all tasks for a specific space using the space_token. Supports pagination with page and query parameters for efficient data retrieval.

```http
GET /api/v2/platform/spaces/{space_token}/tasks/
```

### Path Parameters

| Name        | Type   | Required | Description                           |
|-------------|--------|----------|---------------------------------------|
| space_token | string | Yes      | Public token identifying the workspace |

<Note>
You can get the `space_token` by hitting the [Get All Spaces](/api/space/spaces#get-all-spaces) API. The `token` field in the response is your Space Token.
</Note>

### Query Parameters (Optional)

| Name      | Type | Required | Description                        |
|-----------|------|----------|------------------------------------|
| page      | int  | No       | Page number (default = 1)          |
| page_size | int  | No       | Number of tasks per page (default = 20) |

### Headers

| Name          | Type   | Required | Description                     |
|---------------|--------|----------|---------------------------------|
| Authorization | string | Yes      | API Key format: `Token <token>` |
| Content-Type  | string | Yes      | `application/json`              |


### Example Request

```http
GET /api/v2/platform/spaces/your-space-token/tasks/?page=1&page_size=20
Headers:
  Authorization: Token your-api-token
  Content-Type: application/json
```

### Success Response (200)

```json
{
  "count": 1,
  "status_code": 200,
  "message": "Tasks Fetched Successfully",
  "data": [
    {
      "_id": "697debb84c27faa892bfa0cc",
      "thread_id": "675272289779974401",
      "user_info": {
        "email": "harshitaunpod.qa1+166@gmail.com",
        "full_name": "harshita166"
      },
      "task_id": "T8ff2ccdffe9a11f0878d43cd8a99e069",
      "run_id": "R8ff2ccdefe9a11f0878d43cd8a99e069",
      "task": {
        "objective": "Call it"
      },
      "input": {
        "name": "Bhaishab",
        "email": "john@example.com",
        "contact_number": "8109689090",
        "alternate_number": "",
        "occupation": "Developer",
        "company_name": "TechCorp",
        "address": "123/456 Main Street",
        "about": "Software Developer",
        "context": "Follow up call",
        "multi_select": "multi",
        "created": "2025-10-30T05:44:56",
        "labels": [
          "not Interested"
        ],
        "document_id": "6902fb5840a736e125e80c",
        "quality": "good"
      },
      "output": {
        "call_id": "675272289779974401",
        "call_end_reason": null,
        "start_time": "2026-01-31 11:47:38.067021",
        "end_time": "2026-01-31 11:48:11.385745",
        "assistant_number": "7890789090",
        "call_summary": null,
        "duration": 33,
        "recording_url": "https://cdr-storage-recs.s3.ap-south-1.amazonaws.com/media/p79974498.ogg",
        "transcript": [
          {
            "role": "user",
            "content": "Hello?",
            "timestamp": "2026-01-31 11:47:46.675013",
            "participant": "idt_+918109687225"
          },
          {
            "role": "assistant",
            "content": "Hi! This is [name] from [company]. Am I speaking with Bhaishab?\n",
            "timestamp": "2026-01-31 11:47:54.259815",
            "message_id": "2e8be35b-303"
          }
        ],
        "post_call_data": {
          "classification": {
            "labels": []
          },
          "summary": {
            "status": "Not Connected",
            "summary": "The call began with the assistant introducing themselves and confirming they were speaking with Bhaishab. However, there was no further discussion or engagement from the user, leading to an inconclusive interaction.",
            "callback_datetime": "N/A",
            "hours_from_now": "N/A"
          },
          "call_back": null,
          "follow_up": {
            "required": "follow_up disabled"
          },
          "profile_summary": {
            "tone": "Neutral",
            "engagement": "Low",
            "interest_level": "Maybe",
            "objections": [],
            "questions_asked": [],
            "pain_points": [],
            "outcome": "Connected",
            "next_action": "Continue the conversation",
            "callback_requested": false,
            "callback_time": null,
            "summary_text": "The user appears to be neutral and minimally engaged during the call. They acknowledged the assistant's greeting but did not express any specific interest or objections at this stage."
          },
          "structured_data": null
        },
        "metadata": {
          "cost": 0.0,
          "usage": {}
        },
        "call_type": "outbound",
        "call_status": "completed"
      },
      "attachments": [],
      "assignee": "jockey-india-apparel-assistant-kk19u",
      "status": "completed",
      "execution_type": "call",
      "ref_id": "6902fb5840a736e125e80c",
      "run_mode": "dev",
      "created": "2026-02-07T05:57:45",
      "modified": "2026-02-07T05:57:45"
    }
  ]
}
```

### Response Fields

| Field       | Type    | Description           |
|-------------|---------|-----------------------|
| count       | integer | Total number of tasks |
| status_code | integer | HTTP status code      |
| message     | string  | Response message      |
| data        | array   | Array of task objects |

### Task Object Fields

| Field          | Type    | Description                                   |
|----------------|---------|-----------------------------------------------|
| _id            | string  | Internal task document ID                     |
| thread_id      | string  | Thread identifier                             |
| user_info      | object  | User details (email, full_name)               |
| task_id        | string  | Unique task identifier                        |
| run_id         | string  | Parent run identifier                         |
| task           | object  | Task definition with objective                |
| input          | object  | Input data for the task                       |
| output         | object  | Task output (empty if pending)                |
| attachments    | array   | List of attachments                           |
| assignee       | string  | Agent handle assigned to the task             |
| status         | string  | Task status: `pending`, `completed`, `failed` |
| execution_type | string  | Type of execution: `call`, `email`, etc.      |
| ref_id         | string  | Reference ID linking to input data            |
| run_mode       | string  | Execution mode: `dev`, `prod`, etc.           |
| created        | string  | Task creation timestamp                       |
| modified       | string  | Last modified timestamp                       |

### Output Object Fields

| Field            | Type   | Description                              |
|------------------|--------|------------------------------------------|
| call_id          | string | Unique call identifier                   |
| call_end_reason  | string | Reason for call ending                   |
| start_time       | string | Call start timestamp                     |
| end_time         | string | Call end timestamp                       |
| assistant_number | string | Outbound phone number used               |
| call_summary     | string | AI-generated summary of the call         |
| duration         | number | Call duration in seconds                 |
| recording_url    | string | URL to call recording                    |
| transcript       | array  | Array of conversation messages           |
| post_call_data   | object | Post-call analysis data                  |
| metadata         | object | Additional metadata (cost, usage)        |
| call_type        | string | Direction of call: `outbound`, `inbound` |
| call_status      | string | Status of the call: `completed`, etc.    |

### Error Response (206 — Tasks Fetch Failed)

```json
{
  "message": "Error fetching tasks",
  "errors": "Detailed error description"
}
```

---

## Common Error Codes

| Status Code | Description                                      |
|-------------|--------------------------------------------------|
| 200         | Success - Data fetched/created successfully      |
| 206         | Partial Content - Business logic error occurred  |
| 400         | Bad Request - Invalid parameters provided        |
| 401         | Unauthorized - Invalid or missing API token      |
| 403         | Forbidden - Access denied to the resource        |
| 404         | Not Found - Agent or Space not found             |
| 500         | Internal Server Error - Server-side error        |

## Code Examples

<CodeGroup>

```javascript Node.js
const axios = require('axios');

const headers = {
  'Authorization': 'Token your-api-token',
  'Content-Type': 'application/json'
};

// Get tasks by agent handle
const getTasksByAgent = async (agentHandle) => {
  const response = await axios.get(
    `https://unpod.dev/api/v2/platform/agents/${agentHandle}/tasks/`,
    { headers }
  );
  console.log(`Total tasks: ${response.data.count}`);
  return response.data.data;
};

// Get tasks by space token with pagination
const getTasksBySpace = async (spaceToken, page = 1, pageSize = 20) => {
  const response = await axios.get(
    `https://unpod.dev/api/v2/platform/spaces/${spaceToken}/tasks/?page=${page}&page_size=${pageSize}`,
    { headers }
  );
  console.log(`Total tasks: ${response.data.count}`);
  return response.data.data;
};

// Create a task in a space
const createTask = async (spaceToken, pilot, documents, context) => {
  const response = await axios.post(
    `https://unpod.dev/api/v2/platform/spaces/${spaceToken}/tasks/`,
    {
      pilot,
      documents,
      context,
      schedule: { type: 'now' }
    },
    { headers }
  );
  console.log(`Task created: ${response.data.data.run_id}`);
  return response.data.data;
};

// Example usage
getTasksByAgent('sales-agent-v1');
```

```python Python
import requests

headers = {
    'Authorization': 'Token your-api-token',
    'Content-Type': 'application/json'
}

def get_tasks_by_agent(agent_handle: str):
    """Get tasks by agent handle"""
    url = f'https://unpod.dev/api/v2/platform/agents/{agent_handle}/tasks/'
    response = requests.get(url, headers=headers)
    data = response.json()
    print(f"Total tasks: {data['count']}")
    return data['data']

def get_tasks_by_space(space_token: str, page: int = 1, page_size: int = 20):
    """Get tasks by space token with pagination"""
    url = f'https://unpod.dev/api/v2/platform/spaces/{space_token}/tasks/'
    params = {'page': page, 'page_size': page_size}
    response = requests.get(url, headers=headers, params=params)
    data = response.json()
    print(f"Total tasks: {data['count']}")
    return data['data']

def create_task(space_token: str, pilot: str, documents: list, context: str):
    """Create a task in a space"""
    url = f'https://unpod.dev/api/v2/platform/spaces/{space_token}/tasks/'
    payload = {
        'pilot': pilot,
        'documents': documents,
        'context': context,
        'schedule': {'type': 'now'}
    }
    response = requests.post(url, headers=headers, json=payload)
    data = response.json()
    print(f"Task created: {data['data']['run_id']}")
    return data['data']

# Example usage
get_tasks_by_agent('sales-agent-v1')
```

```bash cURL
# Get tasks by agent handle
curl -X GET "https://unpod.dev/api/v2/platform/agents/sales-agent-v1/tasks/" \
  -H "Authorization: Token your-api-token" \
  -H "Content-Type: application/json"

# Get tasks by space token with pagination
curl -X GET "https://unpod.dev/api/v2/platform/spaces/your-space-token/tasks/?page=1&page_size=20" \
  -H "Authorization: Token your-api-token" \
  -H "Content-Type: application/json"

# Create a task in a space
curl -X POST "https://unpod.dev/api/v2/platform/spaces/your-space-token/tasks/" \
  -H "Authorization: Token your-api-token" \
  -H "Content-Type: application/json" \
  -d '{
    "pilot": "sales-agent-v1",
    "documents": [
      {
        "name": "John Doe",
        "contact_number": "1234567890",
        "email": "john@example.com",
        "context": "Follow up call"
      }
    ],
    "context": "Call the lead and discuss project requirements.",
    "schedule": {"type": "now"}
  }'
```

</CodeGroup>

## Best Practices

1. **Pagination**: Use page and page_size parameters for efficient data retrieval
2. **Agent Handle**: Ensure you're using the correct agent handle for task assignment
3. **Document Fields**: Include all required document fields (name, contact_number)
4. **Error Handling**: Always handle potential errors and edge cases
5. **Security**: Keep API tokens secure and rotate them regularly
